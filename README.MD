<p align="center">
  <img src="/Imagens/logo-polvo-.png" alt="Logo" width="300" height="300" />
</p>

<h1 align="center"> Polvo- </h1>

<p align="center">
  <b> Bem-vindo ao meu projeto de home server!  </b></br>
  <sub> Navegando os mares, um dia de cada vez.
</p>

<p align="center">
  <a href="#Introdu√ß√£o"> üß≠Introdu√ß√£o </a>&nbsp;|&nbsp;
  <a href="#Objetivo"> üéØObjetivo </a>&nbsp;|&nbsp;
  <a href="#Servi√ßos"> üê≥Servi√ßos </a>&nbsp;|&nbsp;
  <a href="#Como usar"> ü§îComo usar </a>&nbsp;|&nbsp;
  <a href="#Requisitos"> üìãRequisitos </a>&nbsp;|&nbsp;
  <a href="#Instala√ß√£o">üîßInstala√ß√£o </a>&nbsp;|&nbsp;
  <a href="#Contribui√ß√£o"> ü§ùContribui√ß√£o </a>&nbsp;|&nbsp;&nbsp;&nbsp;
  <a href="#Roadmap"> üó∫Ô∏èRoadmap </a>&nbsp;|&nbsp;
</p>

> Disclaimer: eu, bem como os desenvolvedores das aplica√ß√µes usadas ‚Äã‚Äãneste artigo n√£o toleram ou incentivam o download, o compartilhamento, a propaga√ß√£o ou o peering de material protegido por direitos autorais. As leis nacionais e internacionais pro√≠bem atividades ilegais. Este projeto serve apenas para fins educacionais

<a id="Introdu√ß√£o"></a>
## O que √© este projeto?

Este projeto √© um ambiente de servidor dom√©stico que eu criei para atender a minha jornada de autodescobrimento. Aqui est√° um pouco do meu conhecimento que eu aprendi ao longo do tempo, bem como alguns erros e acertos que podem ser vistos de acordo com sua experi√™ncia na √°rea. 

Sinta-se √† vontade para clonar o reposit√≥rio e fazer do meu ambiente o seu pr√≥prio, afinal, tudo isso aqui √© FOSS :)

Este projeto at√© o momento tende a ter uma estrutura baseada em cont√™ineres.

A estrutura aqui no github ser√° dividida em pastas; a root sendo o meu servidor f√≠sico (o meu famoso macbook que chamo carinhosamente de crapbook); um servidor VPS na OCI e; um Raspberry Pi 3B

A estrutura de arquivos YML tamb√©m est√£o divididos:

- core.yml -> Servi√ßos de monitoramento, proxy reverso, atualiza√ß√µes autom√°ticas de containeres e dashboard.
- media-stack.yml -> Servi√ßos de m√≠dia que s√£o dependentes entre si.

<a id="Objetivo"></a>
## Objetivo

O principal objetivo com esse projeto √© descobrir novas tecnologias e jeitos de incorporar softwares geralmente inalcan√ß√°veis em algo tang√≠vel e simples. 

U√©, como assim?

Muitas das tecnologias que usamos diariamente s√£o encontradas apenas em grandes empresas, com c√≥digos fechados e com uma pol√≠tica restritiva. 

Levando em considera√ß√£o a filosofia do pr√≥prio linux, eu como um profissional da √°rea de seguran√ßa da informa√ß√£o n√£o acredito que as coisas deveriam ter essa pol√≠tica agressiva para com os usu√°rios, e, portanto, busco de certa forma implementar as mesmas coisas de grandes empresas no meu pr√≥prio ambiente, utilizando meus recursos e perpetuando a transpar√™ncia como acredito que as coisas deveriam ser.

<a id="Servi√ßos"></a>
## Servi√ßos

### Traefik - Proxy reverso FTW
<img src="/Imagens/traefik.png" alt="Traefik" width="50" height="60" />
</br>

O Traefik √© a porta de entrada. Ele atua proxy reverso no ambiente, direcionando o tr√°fego remoto e local para os servi√ßos corretos no meu servidor. Eis o que ele basicamente faz:

* Roteamento din√¢mico de tr√°fego para diferentes servi√ßos
* Suporte a HTTPS com Let's Encrypt para seguran√ßa aprimorada*
* Um painel de controle amig√°vel para gerenciar minhas configura√ß√µes

A configura√ß√£o do Traefik a princ√≠pio √© algo um pouco complexo, ainda mais quando √© sua primeira implementa√ß√£o do servi√ßo. Depois de um tempo ele come√ßa a se tornar muito simples, com cada servi√ßo que √© adicionado no arquivo de docker-compose basta adicionar labels para que haja a integra√ß√£o com o proxy.

### What's up, Docker? - Monitoramento automatizado
<img src="/Imagens/wud.png" alt="WUD" width="50" height="50" />
</br>

O "What's Up Docker?" √© como meu assistente pessoal digital que monitora meus cont√™ineres em tempo real. Aqui est√£o algumas fun√ß√µes:

* Receber atualiza√ß√µes instant√¢neas sobre meus cont√™ineres
* Verificar o status dos cont√™ineres
* Realizar a√ß√µes de manuten√ß√£o diretamente do meu navegador
* Atualiza√ß√£o autom√°tica dos cont√™ineres*

### Jellyfin - Minha central de m√≠dia
<img src="/Imagens/jellyfin.png" alt="" width="50" height="50" />
</br>

O Jellyfin √© a resposta para todas as minhas necessidades de m√≠dia. Ele √© a aplica√ß√£o que gerencio e reproduzo meus filmes e programas de TV:

* Organizar minha biblioteca de m√≠dia
* Transmitir conte√∫do para todos os meus dispositivos na rede local

O Jellyfin √© uma alternativa bem forte frente aos servi√ßos como o Plex ou Emby.

Se quiser um comparativo mais aprofundado, sugiro esse [repo](https://github.com/Protektor-Desura/Archon/wiki/Compare-Media-Servers) aqui.

### Jellyseerr - Gerenciamento de solicita√ß√µes de m√≠dia
<img src="/Imagens/jellyseerr.png" alt="" width="50" height="50" />
</br>

O Jellyseerr √© meu assistente dedicado ao Jellyfin, me ajudando a gerenciar as solicita√ß√µes da minha biblioteca de m√≠dia:

* Aceitar, processar e gerenciar solicita√ß√µes de m√≠dia
* Garantir que meus amigos e familiares obtenham o que desejam
* Simplificar a organiza√ß√£o da minha biblioteca

### Uptime-Kuma - Monitoramento da disponibilidade dos cont√™ineres
<img src="/Imagens/uptime-kuma.png" alt="" width="50" height="50" />
</br>

O Uptime-Kuma me mantem informado sobre o status de todos os meus cont√™ineres. Ele basicamente:

* Mandar alertas instant√¢neos sobre quedas de servi√ßo
* Me manter no controle dos meus aplicativos 24/7
* Tem um painel de controle simples e eficaz

Obs: esse carinha vai sair daqui e vai para minha VPS, porque o intuito √© mant√™-lo no ar 24/7 com uma disponibilidade de pelo menos de 3 noves.
saiba mais [aqui](https://www.stratus.com/about/company-information/uptime-meter/#:~:text=Availability%20is%20normally%20expressed%20in,have%20on%20your%20server%20downtime.)

### Bazarr - Gerenciamento de legendas
<img src="/Imagens/bazarr.png" alt="" width="50" height="50" />
</br>

O Bazarr facilita minha vida quando se trata de legendas para meus filmes e programas de TV:

* Baixar automaticamente legendas
* Personalizar minhas prefer√™ncias de legendas
* Manter minhas legendas em ordem

### Sonarr - Downloads autom√°ticos de s√©ries
<img src="/Imagens/sonarr.png" alt="" width="50" height="50" />
</br>

O Sonarr cuida das s√©ries de TV para mim. √â como ter um assistente pessoal para downloads:

- Automatizar o download de epis√≥dios de s√©ries
- Integra√ß√£o perfeita com servi√ßos Usenet e torrent
- Organiza√ß√£o autom√°tica das minhas s√©ries

### Radarr - Downloads autom√°ticos de filmes
<img src="/Imagens/radarr.png" alt="" width="50" height="50" />
</br>

O Radarr √© igual ao sonarr, por√©m para filmes.

- Fazer o download autom√°tico de filmes
- Configura√ß√£o f√°cil com Usenet e torrent
- Organizar minha biblioteca de filmes automaticamente

### Prowlarr - Indexadores para os servi√ßos Arrs
<img src="/Imagens/prowlarr.png" alt="" width="50" height="50" />
</br>

O Prowlarr √© o administrador de indexadores que garante que os servi√ßos Arrs tenham o que precisam:

- Integra√ß√£o perfeita com outros servi√ßos Arrs (Sonarr, radarr, prowlarr, etc.)
- Atualiza√ß√£o autom√°tica de indexadores
- Gerenciamento simplificado de fontes

### qBittorrent - The one and only
<img src="/Imagens/qbittorrent.png" alt="" width="50" height="50" />
</br>

O qBittorrent √© o gerenciador de torrents que todos amam e conhecem. (N√£o usem uTorrent, por favor).

- Baixar torrents com facilidade
- Acompanhar o progresso dos meus downloads

<a id="Requisitos"></a>
## Requisitos
Voc√™ basicamente vai precisar de duas ferramentas:
- [Docker](https://docs.docker.com/engine/install/)
- [Docker Compose](https://docs.docker.com/compose/install/)

<a id="Como Usar"></a>
## Como Usar
Vamos ver como voc√™ pode incorporar isso no seu ambiente. Deixarei os links abaixo para que voc√™ possa obter mais informa√ß√µes sobre cada servi√ßo

- [Doc - Traefik](https://doc.traefik.io/traefik/)
- [Doc - What's Up Docker?](https://fmartinou.github.io/whats-up-docker/#/)
- [Doc - Jellyfin](https://jellyfin.org/docs/)
- [Doc - Jellyseerr](https://github.com/Fallenbagel/jellyseerr)
- [Doc - Uptime-Kuma](https://uptime.kuma.pet/docs/)
- [Doc - Bazarr](https://www.bazarr.media/)
- [Doc - Sonarr](https://wiki.servarr.com/sonarr)
- [Doc - Radarr](https://wiki.servarr.com/radarr)
- [Doc - Prowlarr](https://wiki.servarr.com/prowlarr)
- [Doc - qBittorrent](https://github.com/qbittorrent/qBittorrent/wiki/)

<a id="Instala√ß√£o"></a>
## Montando a√≠ na sua casa
Agora que voc√™ j√° conhece meu servidor aproveite para explorar, personalizar e otimizar o seu pr√≥prio! 

Aqui est√£o os passos b√°sicos para colocar os servi√ßos e o servidor no ar:

1. Clonar o reposit√≥rio
  ```git clone https://github.com/LaancX/Polvo-.git```

2. Organizar a estrutura de pastas no host do docker.

Ap√≥s a instala√ß√£o do docker e o docker-compose, voc√™ vai precisar organizar a estrutura de pastas que os servi√ßos utilizar√£o. Para isso, h√° um tutorial detalhado de como fazer para evitar problemas no ambiente, que pode ser acessado [aqui](https://trash-guides.info/Hardlinks/How-to-setup-for/Docker/)</br>

Nos meus composes (media-stack e core) s√£o dois diret√≥rios que eu utilizo no meu sistema:

Na pasta do projeto eu tenho o /containers, que √© onde ficam os arquivos de configura√ß√µes para que os dados persistam caso o servidor reinicie ou desligue.
  - /containers

No meu HDD que est√° montado no diret√≥rio /mnt/home-server; eu tenho a pasta /data, o qual necessita de um pouco mais de espa√ßo.
  - /data

3. N√£o esque√ßa das permiss√µes das respectivas pastas:

```sudo chown -R $USER:$USER /containers && sudo chown -R $USER:$USER /data```</br>
```sudo chmod -R a=,a+rX,u+w,g+w /containers && sudo chmod -R a=,a+rX,u+w,g+w /data ```

4. Subir os cont√™ineres
Ap√≥s a organiza√ß√£o das pastas voc√™ ter√° que executar: 
```docker compose up -f core.yml -d && docker compose -f media-stack.yml -d```

Obs: Provavelmente algumas informa√ß√µes aparecer√£o quando este comando for executado, como algumas vari√°veis n√£o declaradas. No meu arquivo de .env existem algumas vari√°veis que eu armazeno as chaves APIs usadas no projeto. Estas vari√°veis, caso voc√™ exponha publicamente os servi√ßos, n√£o devem conter valores no arquivo, pois algu√©m pode tomar controle do seu ambiente.

Como estes valores s√≥ se tornam dispon√≠veis ap√≥s a execu√ß√£o deste comando, n√£o h√° como preencer as vari√°veis anteriormente ao deploy. Ap√≥s a configura√ß√£o individual dos containers voc√™ pode substituir as vari√°veis pelas respectivas chaves no ambiente do host, como:

```echo -n "export JELLYFIN_KEY=apikeyapikeyapikey" >> ~/.bashrc```
```source ~/.bashrc```

Ap√≥s isso voc√™ consegue testar se as var√≠aveis foram armazenadas corretamente com:
```echo $JELLYFIN_KEY```

A sa√≠da deve ser a chave de API que o Jellyfin configurou.

5. Para que as informa√ß√µes das chaves sejam carregadas, emita os comandos de docker compose novamente.

6. Ap√≥s isso entra a parte de configura√ß√µes individuais dos servi√ßos. H√° v√°rios guias de como fazer isso no youtube e na internet, portanto, n√£o serei redundante.


Se tiver alguma d√∫vida ou precisar de ajuda, sinta-se √† vontade para abrir uma issue no GitHub.

<a id="Contribui√ß√£o"></a>
## Quero contribuir

As contribui√ß√µes s√£o o que tornam a comunidade de c√≥digo aberto um lugar incr√≠vel para aprender, inspirar e criar. Qualquer contribui√ß√£o que voc√™ fizer ser√° muito apreciada.

Se voc√™ tiver uma sugest√£o que possa melhorar isso, d√° um fork no projeto e fa√ßa um pull request. Voc√™ tamb√©m pode simplesmente fazer na parte de "issue" com a tag ‚Äúaprimoramento‚Äù. N√£o se esque√ßa de dar uma estrela ao projeto! Obrigado novamente!

1. Fork
2. Crie sua branch de aprimoramento (git checkout -b feature/IdeiaNuncaAntesVista)
3. D√° um commit (git commit -m 'Adicionado melhor feature de todas')
4. Envia para a branch (git push origin feature/IdeiaNuncaAntesVista)
5. Abra um pull request

<a id="Roadmap"></a>
## Roadmap

* [ ] Implementar SIEM na VPS (Wazuh)
* [ ] Configurar o WUD (What's Up Docker)
* [ ] Transferir configura√ß√µes est√°ticas do traefik para o arquivo .toml ou .yml
* [ ] Implementar o certificado Let's Encrypt nas conex√µes via HTTPS
* [ ] Implementar VPN (Wireguard; ZeroTier; CloudFlare Tunnel)
* [ ] Migrar para um ambiente de Kubernetes (k3s; minikube)
